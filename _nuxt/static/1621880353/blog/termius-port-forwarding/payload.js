__NUXT_JSONP__("/blog/termius-port-forwarding", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y){return {data:[{post:{slug:"termius-port-forwarding",description:"Explanation of a bit strange GUI",title:"Port forwarding using Termius",author:E,posted:1621414954000,tags:["Blog",s,w],keywords:[x,"ssh port forwarding","termius port forwarding",E,"Ryoidenshi Aokigahara","blog","peronal blog"],toc:[{id:F,depth:o,text:G},{id:H,depth:o,text:w},{id:I,depth:y,text:J},{id:K,depth:y,text:L},{id:M,depth:y,text:N},{id:x,depth:o,text:s},{id:O,depth:o,text:P},{id:Q,depth:o,text:R},{id:S,depth:o,text:T}],body:{type:"root",children:[{type:b,tag:p,props:{id:F},children:[{type:b,tag:f,props:{href:"#disclaimer",ariaHidden:g,tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:G}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"There are thousands (or millions) articles in blogs and etc. about port forwarding. In most cases they describes how to open some port on your device or router, how to passthrough traffic from the internet into local network (concrete device). This post is not about such port forwarding process."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Here I will talk about port forwarding feature of SSH. SSH assumes the presence of some server, which can be directly accessed from anywhere through SSH-connection. So probably this post is not what you're searching for."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"But if you using "},{type:b,tag:f,props:{href:"https:\u002F\u002Ftermius.com",rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:s}]},{type:a,value:" and searched for ssh port forwarding feature - welcome here :)"}]},{type:a,value:c},{type:b,tag:p,props:{id:H},children:[{type:b,tag:f,props:{href:"#ssh-port-forwarding",ariaHidden:g,tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:w}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"I guess this feature is known by most of SSH users. Short reminder:"}]},{type:a,value:c},{type:b,tag:z,props:{id:I},children:[{type:b,tag:f,props:{href:"#local",ariaHidden:g,tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:J}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:t,props:{},children:[{type:a,value:"ssh -L 8080:127.0.0.1:3000 user@remote-server"}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"This will redirect requests on your local 8080 port to remote server's 3000 port"}]},{type:a,value:c},{type:b,tag:z,props:{id:K},children:[{type:b,tag:f,props:{href:"#remote",ariaHidden:g,tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:L}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:t,props:{},children:[{type:a,value:"ssh -R 3000:127.0.0.1:8080 user@remote-server"}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"This will redirect requests on your server's port 3000 to your local 8080 port"}]},{type:a,value:c},{type:b,tag:z,props:{id:M},children:[{type:b,tag:f,props:{href:"#dynamic-socks5-proxy",ariaHidden:g,tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:N}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:t,props:{},children:[{type:a,value:"ssh -D 8080 user@remote-server"}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"This will setup SOCKS5 proxy on remote server and forward it's to your local 8080 port, so you can add anywhere a SOCKS5 proxy with address 127.0.0.1:8080"}]},{type:a,value:c},{type:b,tag:U,props:{type:"warning"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:u}]},{type:a,value:" is shown in examples because in some systems localhost points to IPv6("},{type:b,tag:l,props:{},children:[{type:a,value:"::1"}]},{type:a,value:") instead of IPv4("},{type:b,tag:l,props:{},children:[{type:a,value:u}]},{type:a,value:") while most frameworks listen for connections on IPv4. You still can use "},{type:b,tag:e,props:{},children:[{type:a,value:"localhost"}]},{type:a,value:", but if it doesn't work, try to replace it with "},{type:b,tag:e,props:{},children:[{type:a,value:u}]},{type:a,value:"."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:U,props:{type:"info"},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Remember, that if you need to access target port not only from localhost, but also from other networks (local\u002Fglobal) you need to use "},{type:b,tag:e,props:{},children:[{type:a,value:"0.0.0.0"}]},{type:a,value:" instead of "},{type:b,tag:e,props:{},children:[{type:a,value:u}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:p,props:{id:x},children:[{type:b,tag:f,props:{href:"#termius",ariaHidden:g,tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:s}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Termius is cross-platform app, that provide us comfortable GUI for most of setups of SSH connection. Yes, of course we can look for introduction for ssh-aliases, config files and etc., but I guess most of users likes GUI apps and Termius very well here."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"In Termius we get:"}]},{type:a,value:c},{type:b,tag:"ul",props:{},children:[{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:"Add host and provide all data with fields instead of specifying them on each connect or making alias in config file"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:"Sort your list with groups (actually folders)"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:"Import hosts from few sources (local ssh config, SecureCRT, PuTTY, KiTTY, CSV, AWS, Digital Ocean)"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:"Supported protocols are SSH, Telnet and Mosh"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:"Port Forwarding as simply as adding hosts"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"In premium there are also data sync with SFTP, but our post is not about that."}]},{type:a,value:c},{type:b,tag:p,props:{id:O},children:[{type:b,tag:f,props:{href:"#problem-with-adding-port-forwarding",ariaHidden:g,tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:P}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"They behave like switches: once added, it can be enabled or disabled with double-click. Simple and easy. But the problem appears when you want to add first port forwarding."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"We will not talk about Dynamic forwarding(SOCKS proxy) cause UI of adding it is fully understandable:"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:v,props:{alt:"Screenshot of adding Dynamic forwarding rule",src:"https:\u002F\u002Fi.imgur.com\u002FrHIVwjo.png"},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:q}]},{type:a,value:" here is target remote host which will be our proxy, "},{type:b,tag:e,props:{},children:[{type:a,value:m}]},{type:a,value:" (why "},{type:b,tag:l,props:{},children:[{type:a,value:"from"}]},{type:a,value:"?) and "},{type:b,tag:e,props:{},children:[{type:a,value:"Bind address"}]},{type:a,value:" are local ip and port for using proxy."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Let's look at "},{type:b,tag:e,props:{},children:[{type:a,value:"Local forwarding"}]},{type:a,value:V}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:v,props:{alt:"Screenshot of adding Local forwarding rule",src:"https:\u002F\u002Fi.imgur.com\u002FtCaSssN.png"},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Well, it looks understandable, but you will fail with forwarding, if you try to fill them intuitive. When you see "},{type:b,tag:e,props:{},children:[{type:a,value:q}]},{type:a,value:A},{type:b,tag:e,props:{},children:[{type:a,value:m}]},{type:a,value:" intuition says that they both belong to remote server, the same is with "},{type:b,tag:e,props:{},children:[{type:a,value:B}]},{type:a,value:A},{type:b,tag:e,props:{},children:[{type:a,value:r}]},{type:a,value:" - they feels to belong local machine. Finally picture is that we forwards answers from remote "},{type:b,tag:e,props:{},children:[{type:a,value:q}]},{type:a,value:W},{type:b,tag:e,props:{},children:[{type:a,value:m}]},{type:a,value:" to local "},{type:b,tag:e,props:{},children:[{type:a,value:B}]},{type:a,value:W},{type:b,tag:e,props:{},children:[{type:a,value:r}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"If you don't agree with me about intuition - welcome to comments :D"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"If we fill these fields intuitive, and after that goes to your server and check for listening ports, you will fail. Just because "},{type:b,tag:e,props:{},children:[{type:a,value:m}]},{type:a,value:" realy belong to our local machine and vice versa "},{type:b,tag:e,props:{},children:[{type:a,value:r}]},{type:a,value:" is the port on remote server to which we want to connect."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"In example:"}]},{type:a,value:" we have MySQL on remote server working on non-default port "},{type:b,tag:l,props:{},children:[{type:a,value:C}]},{type:a,value:". We're trying to forward it to our local machine on default port "},{type:b,tag:l,props:{},children:[{type:a,value:D}]},{type:a,value:". If we fill all fields intuitively, we are:"}]},{type:a,value:c},{type:b,tag:"ol",props:{},children:[{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:"Connecting to port "},{type:b,tag:l,props:{},children:[{type:a,value:D}]},{type:a,value:" on our remote server which is not used, because our MySQL working on "},{type:b,tag:l,props:{},children:[{type:a,value:C}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:"We forward "},{type:b,tag:e,props:{},children:[{type:a,value:"nothing"}]},{type:a,value:" to port "},{type:b,tag:l,props:{},children:[{type:a,value:C}]},{type:a,value:" on local machine, but thinking that forwarded it to "},{type:b,tag:l,props:{},children:[{type:a,value:D}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Finaly we failed twice thanks to non-intuitive labels."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"To fix that you need to swap values of "},{type:b,tag:e,props:{},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:e,props:{},children:[{type:a,value:r}]},{type:a,value:" fields"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Does it feel strange for you? For me - yes, but explanation will be later. Now let's look at "},{type:b,tag:e,props:{},children:[{type:a,value:"Remote forwarding"}]},{type:a,value:V}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:v,props:{alt:"Screenshot of adding Remote forwarding rule",src:"https:\u002F\u002Fi.imgur.com\u002FajYfxvy.png"},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Do you see here any difference here? Okay, excluding tab name."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"At first let's try to fill it intuitive:"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:q}]},{type:a,value:" feels as local, because we forwarding our local server to external network. But we're wrong here - it's 100% is our remote host, because we have to choose it from already added hosts."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:m}]},{type:a,value:" feels as local due to the same reason as "},{type:b,tag:e,props:{},children:[{type:a,value:q}]},{type:a,value:" above, but is it? We remember strangeness of "},{type:b,tag:e,props:{},children:[{type:a,value:m}]},{type:a,value:" from "},{type:b,tag:e,props:{},children:[{type:a,value:X}]},{type:a,value:"... And yes, you're right, if after "},{type:b,tag:e,props:{},children:[{type:a,value:X}]},{type:a,value:" you think that "},{type:b,tag:e,props:{},children:[{type:a,value:m}]},{type:a,value:" is not intuitive label. It's field for our remote port."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:B}]},{type:a,value:" - our local hostname or ip address. Strange again, at least for me, because we forward our local port "},{type:b,tag:e,props:{},children:[{type:a,value:"to"}]},{type:a,value:" external network with our remote server."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:r}]},{type:a,value:" - remains as local just because "},{type:b,tag:e,props:{},children:[{type:a,value:m}]},{type:a,value:" is already our remote port."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"That's a bit strange, but there we can use another logic: we're not forwarding traffic "},{type:b,tag:e,props:{},children:[{type:a,value:"from our local server to remote"}]},{type:a,value:", we are forwarding requests "},{type:b,tag:e,props:{},children:[{type:a,value:"from remote server to local machine"}]},{type:a,value:". Then at least "},{type:b,tag:e,props:{},children:[{type:a,value:"Remote forwarding rule"}]},{type:a,value:" become looks nice."}]},{type:a,value:c},{type:b,tag:p,props:{id:Q},children:[{type:b,tag:f,props:{href:"#how-termius-forwarding-fields-mapped-to-ssh-command",ariaHidden:g,tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:R}]},{type:a,value:c},{type:b,tag:"div",props:{className:["nuxt-content-highlight"]},children:[{type:b,tag:"pre",props:{className:["language-text","line-numbers"]},children:[{type:b,tag:t,props:{},children:[{type:a,value:"|  Forwarding  |  Bind address  |  Port from  |  Host to  |  Port to  |  Host from  |\n| :----------: | :------------: | :---------: | :-------: | :-------: | :---------: |\n|    ssh -L    |   127.0.0.1    |    8080     | localhost |   3000    | user@server |\n|    ssh -R    |   127.0.0.1    |    3000     | localhost |   8080    | user@server |\n"}]}]}]},{type:a,value:c},{type:b,tag:p,props:{id:S},children:[{type:b,tag:f,props:{href:"#conclusion",ariaHidden:g,tabIndex:h},children:[{type:b,tag:i,props:{className:[j,k]},children:[]}]},{type:a,value:T}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"There are few strangeness in the UI, so finally don't forget to write correct names for your forwarding rules."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"All saved rules has something like \"avatar\" on the left side - there is only one letter which indicates type of rule: L (Local), R (Remote) or D (Dynamic)."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Also, active rules are highlighted with green color in their \"avatar\". Green border indicates selected (by last click) rule."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:v,props:{alt:"How looks added forwarding rules and a toggled one",src:"https:\u002F\u002Fi.imgur.com\u002FyZ7dhpt.png"},children:[]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"But finally we have all needed rules, which can be enabled with just double-click :)"}]}]},dir:"\u002Fblog",path:"\u002Fblog\u002Ftermius-port-forwarding",extension:".md",createdAt:Y,updatedAt:Y}}],fetch:[],mutations:[]}}("text","element","\n","p","strong","a","true",-1,"span","icon","icon-link","em","Port from","li",2,"h2","Host from","Port to","Termius","code","127.0.0.1","img","SSH port forwarding","termius",3,"h3"," and ","Host to","3333","3306","NEK-RA","disclaimer","Disclaimer","ssh-port-forwarding","local","Local","remote","Remote","dynamic-socks5-proxy","Dynamic (SOCKS5 proxy)","problem-with-adding-port-forwarding","Problem with adding port forwarding","how-termius-forwarding-fields-mapped-to-ssh-command","How Termius forwarding fields mapped to SSH command","conclusion","Conclusion","v-alert-md"," rule UI:",":","Local rule","2021-05-24T18:17:59.065Z")));